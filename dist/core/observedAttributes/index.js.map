{
  "version": 3,
  "sources": ["../../../core/observedAttributes/src/index.jsx"],
  "sourcesContent": ["import { h, render, Component, uniqueTag } from \"wpa\";\r\nconst test = async (attr) => {\r\n  //console.log(attr, val, oldVal)\r\n  //这里有个问题，update 会产生异步\r\n  console.log(attr, \"inner begin\");\r\n\r\n  await test2(attr);\r\n\r\n  console.log(attr, \"inner end\");\r\n};\r\nconst test2 = async (attr) => {\r\n  console.log(\"run test2\", attr);\r\n};\r\nconst App = uniqueTag(\r\n  class extends Component {\r\n    static get observedAttributes() {\r\n      return [\"name\", \"type\"];\r\n    }\r\n    attributeChangedCallback(attr, oldVal, val) {\r\n      console.log(attr, \"begin change\");\r\n      test(attr);\r\n      console.log(attr, \"end change\");\r\n      //if (this.isInstalled) this.update();\r\n    }\r\n    install() {\r\n      console.log(\"install\");\r\n    }\r\n    receiveProps(props, prev) {\r\n      console.log(\"props change\", props, prev);\r\n    }\r\n    render(props) {\r\n      return (\r\n        <>\r\n          {\" \"}\r\n          <h2>\r\n            通过 chrome 改变 My Attrs:\r\n            <ol>\r\n              {[...this.attributes].map((attr) => (\r\n                <li>\r\n                  [{attr.name}]:[{attr.value}]\r\n                </li>\r\n              ))}\r\n            </ol>\r\n          </h2>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n);\r\nconst Wrap = uniqueTag(\r\n  class extends Component {\r\n    type = 0;\r\n    name = \"app\";\r\n    render() {\r\n      return (\r\n        <>\r\n          <App class=\"demo\" name={this.name} type={this.type} />\r\n          <button\r\n            onClick={(evt) => {\r\n              this.type++;\r\n              this.name += this.type;\r\n              this.update();\r\n            }}\r\n          >\r\n            Change Type\r\n          </button>\r\n        </>\r\n      );\r\n    }\r\n  }\r\n);\r\nrender(<Wrap />, \"body\");\r\n"],
  "mappings": "AAAA,OAAS,KAAAA,EAAG,UAAAC,EAAQ,aAAAC,EAAW,aAAAC,MAAiB,qBAChD,IAAMC,EAAO,MAAOC,GAAS,CAG3B,QAAQ,IAAIA,EAAM,aAAa,EAE/B,MAAMC,EAAMD,CAAI,EAEhB,QAAQ,IAAIA,EAAM,WAAW,CAC/B,EACMC,EAAQ,MAAOD,GAAS,CAC5B,QAAQ,IAAI,YAAaA,CAAI,CAC/B,EACME,EAAMJ,EACV,cAAcD,CAAU,CACtB,WAAW,oBAAqB,CAC9B,MAAO,CAAC,OAAQ,MAAM,CACxB,CACA,yBAAyBG,EAAMG,EAAQC,EAAK,CAC1C,QAAQ,IAAIJ,EAAM,cAAc,EAChCD,EAAKC,CAAI,EACT,QAAQ,IAAIA,EAAM,YAAY,CAEhC,CACA,SAAU,CACR,QAAQ,IAAI,SAAS,CACvB,CACA,aAAaK,EAAOC,EAAM,CACxB,QAAQ,IAAI,eAAgBD,EAAOC,CAAI,CACzC,CACA,OAAOD,EAAO,CACZ,OACEV,IAAA,OACG,IACDA,EAAC,UAAG,yBAEFA,EAAC,UACE,CAAC,GAAG,KAAK,UAAU,EAAE,IAAKK,GACzBL,EAAC,UAAG,IACAK,EAAK,KAAK,MAAIA,EAAK,MAAM,GAC7B,CACD,CACH,CACF,CACF,CAEJ,CACF,CACF,EACMO,EAAOT,EACX,cAAcD,CAAU,CACtB,KAAO,EACP,KAAO,MACP,QAAS,CACP,OACEF,IAAA,OACEA,EAACO,EAAA,CAAI,MAAM,OAAO,KAAM,KAAK,KAAM,KAAM,KAAK,KAAM,EACpDP,EAAC,UACC,QAAUa,GAAQ,CAChB,KAAK,OACL,KAAK,MAAQ,KAAK,KAClB,KAAK,OAAO,CACd,GACD,aAED,CACF,CAEJ,CACF,CACF,EACAZ,EAAOD,EAACY,EAAA,IAAK,EAAI,MAAM",
  "names": ["h", "render", "Component", "uniqueTag", "test", "attr", "test2", "App", "oldVal", "val", "props", "prev", "Wrap", "evt"]
}
